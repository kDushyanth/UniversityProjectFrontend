(function(){
    let data ={
        "coursesList": [
            {
                "sroll": "18CS01001",
                "course_id": 1,
                "cname": "PDS",
                "ctype": "CORE",
                "dept_id": 1,
                "semno": 1,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 2,
                "cname": "ENGLISH",
                "ctype": "CORE",
                "dept_id": 3,
                "semno": 1,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 3,
                "cname": "PHYSICS",
                "ctype": "CORE",
                "dept_id": 3,
                "semno": 1,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 4,
                "cname": "MATHS",
                "ctype": "CORE",
                "dept_id": 3,
                "semno": 1,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 5,
                "cname": "MATHS2",
                "ctype": "CORE",
                "dept_id": 3,
                "semno": 2,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 6,
                "cname": "CHEMISTRY",
                "ctype": "CORE",
                "dept_id": 3,
                "semno": 2,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 7,
                "cname": "ENGLISH2",
                "ctype": "CORE",
                "dept_id": 3,
                "semno": 2,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 16,
                "cname": "INTRO TO ML",
                "ctype": "CORE",
                "dept_id": 3,
                "semno": 4,
                "credits": 1
            },
            {
                "sroll": "18CS01001",
                "course_id": 8,
                "cname": "CHEMISTRY LAB",
                "ctype": "LAB",
                "dept_id": 3,
                "semno": 2,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 9,
                "cname": "DATA STRUCTURES",
                "ctype": "CORE",
                "dept_id": 1,
                "semno": 3,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 10,
                "cname": "DISCRETE MATHS",
                "ctype": "CORE",
                "dept_id": 1,
                "semno": 3,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 11,
                "cname": "DATA STRUCTURES LAB",
                "ctype": "LAB",
                "dept_id": 1,
                "semno": 3,
                "credits": 3
            },
            {
                "sroll": "18CS01001",
                "course_id": 12,
                "cname": "MATHS3",
                "ctype": "CORE",
                "dept_id": 3,
                "semno": 3,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 13,
                "cname": "COMBINATORICS",
                "ctype": "CORE",
                "dept_id": 1,
                "semno": 4,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 14,
                "cname": "ALGORITHMS",
                "ctype": "CORE",
                "dept_id": 1,
                "semno": 4,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 15,
                "cname": "ALGORITHMS LAB",
                "ctype": "LAB",
                "dept_id": 1,
                "semno": 4,
                "credits": 3
            },
            {
                "sroll": "18CS01001",
                "course_id": 17,
                "cname": "OPERATING SYSTEMS",
                "ctype": "CORE",
                "dept_id": 1,
                "semno": 5,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 18,
                "cname": "COA",
                "ctype": "CORE",
                "dept_id": 1,
                "semno": 5,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 19,
                "cname": "OPERATING SYSTEMS LAB",
                "ctype": "LAB",
                "dept_id": 1,
                "semno": 5,
                "credits": 3
            },
            {
                "sroll": "18CS01001",
                "course_id": 20,
                "cname": "COA LAB",
                "ctype": "LAB",
                "dept_id": 1,
                "semno": 5,
                "credits": 3
            },
            {
                "sroll": "18CS01001",
                "course_id": 21,
                "cname": "DATABASE SYSTEMS",
                "ctype": "CORE",
                "dept_id": 1,
                "semno": 6,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 22,
                "cname": "DATABASE SYSTEMS LAB",
                "ctype": "LAB",
                "dept_id": 1,
                "semno": 6,
                "credits": 3
            },
            {
                "sroll": "18CS01001",
                "course_id": 23,
                "cname": "CN",
                "ctype": "CORE",
                "dept_id": 1,
                "semno": 6,
                "credits": 4
            },
            {
                "sroll": "18CS01001",
                "course_id": 24,
                "cname": "CN LAB",
                "ctype": "LAB",
                "dept_id": 1,
                "semno": 6,
                "credits": 3
            }
        ],
        "registered": false,
        "offeredCourses": [
            {
                "course_id": 21,
                "cname": "DATABASE SYSTEMS",
                "ctype": "CORE",
                "dept_id": 0,
                "semno": 6,
                "credits": 4
            },
            {
                "course_id": 22,
                "cname": "DATABASE SYSTEMS LAB",
                "ctype": "LAB",
                "dept_id": 0,
                "semno": 6,
                "credits": 3
            },
            {
                "course_id": 23,
                "cname": "CN",
                "ctype": "CORE",
                "dept_id": 0,
                "semno": 6,
                "credits": 4
            },
            {
                "course_id": 24,
                "cname": "CN LAB",
                "ctype": "LAB",
                "dept_id": 0,
                "semno": 6,
                "credits": 3
            }
        ]
    }
    /*
            "sroll": "18CS01001",
            "course_id": 2,
            "cname": "ENGLISH",
            "ctype": "CORE",
            "dept_id": 3,
            "semno": 1,
            "credits": 4
    */
   let coursesList = data.coursesList;
   let registered = data.registered;
   let offeredCourses = data.offeredCourses;

   let lc = document.getElementById("lcourses");
   
   let sem_wise=[];
   for(let i=0;i<8;i++){
       sem_wise.push([]);
   }
   for(let i=0;i<coursesList.length;i++){
       sem_wise[coursesList[i].semno-1].push(coursesList[i]);
   }

   //console.log(sem_wise);
    if(registered==false){
       /* {
            "course_id": 21,
            "cname": "DATABASE SYSTEMS",
            "ctype": "CORE",
            "dept_id": 0,
            "semno": 6,
            "credits": 4
        }*/
        let k = document.getElementById("reg");
        let x=`
                <h6 class="text-center bg-dark text-white border border-dark p-2">Register</h6>
                </hr>

                <table class="w-75 mx-auto">
                    <tr>
                        <th>Course Name</th>
                        <th>Course Type</th>
                        <th>Credits</th>
                        <th>Register</th>
                    </tr>`
        for(let i=0;i<offeredCourses.length;i++)
        {
                x+=`
                <tr>
                    <td>
                        ${offeredCourses[i].cname}
                    </td>
                    <td>
                        ${offeredCourses[i].ctype}
                    </td>
                    <td>
                        ${offeredCourses[i].credits}
                    </td>
                    <td><input type="checkbox" value="" id=${offeredCourses[i].course_id}></td>
                </tr>
                `
        }
        x+=`
        </table>`;
        x+=`
           <div class="mt-2 d-flex justify-content-center"> <button type="submit" class="btn btn-dark">Submit</button></div>
        `;
        k.innerHTML = x;
    }

   let globalList =``;
   for(let i=0;i<8;i++){
       if(sem_wise[i].length!=0){
            let x =`
            <table class="w-100 mb-3">
                <tr>
                <th class="xyz">Semester: ${i+1}</th>
                </tr>
                <tr>
                <th>Course Name</th>
                <th>Course Type</th>
                <th>Credits</th>
                </tr>
            `;
            for(let j=0;j<sem_wise[i].length;j++){
                x+=`
                <tr>
                   <td>
                    ${sem_wise[i][j].cname}
                   </td> 
                   <td>
                    ${sem_wise[i][j].ctype}
                   </td> 
                   <td>
                    ${sem_wise[i][j].credits}
                   </td> 
                </tr>
                `
            }
            x+=`
            </table>
            `;
            globalList+= x;
       }
   }
   
   lc.innerHTML = globalList;
   
})();